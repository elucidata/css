var c=0,i=null,r={debug:!1,verbose:!1,append:"batch",target:document.head,regExp:/&&/g,hashIds:!1,prefix:"css",mode:"auto"},x=((e=new Date)=>new Date(e.getFullYear(),e.getMonth()).getTime())(),S=(()=>{try{var e=new CSSStyleSheet;return"adoptedStyleSheets"in document&&"replace"in e}catch{return!1}})();function b(e){r=Object.assign({},r,e)}function g(e,...t){let n="";for(let o=0;o<t.length;o++)n+=String(e[o]),n+=String(t[o]);e.length>t.length&&(n+=e[e.length-1]);let s=_(n);return n=p(n,`.${s}`),r.verbose&&console.trace(r.append,n),r.debug&&w(n),v(n),s}function u(...e){let t="";for(let n=0;n<e.length;n++){let s=e[n];if(s)if(typeof s=="string")t+=s+" ";else{let o=Object.keys(s);for(let l=0;l<o.length;l++){let a=o[l];s[a]&&(t+=a+" ")}}else continue}return t.trim()}function d(e){function t(...n){return p(u(e,...n),e)}return t.valueOf=()=>e,t.toString=()=>e,t.$=t.inner=(...n)=>p(u(...n),e),t}function E(e,...t){return d(g(e,...t))}E.config=b;function I(e=36){let t=Date.now()-x;return t<=c&&(t=c+1),c=t,c.toString(e)}function N(e){"use strict";for(var t=5381,n=e.length;n;)t=t*33^e.charCodeAt(--n);return t>>>0}function p(e,t){return e.replace(r.regExp,t)}function v(e,t=()=>document.createElement("style")){r.append=="each"?h(e,t):i===null?(i=e,setTimeout(()=>{h(i,t),i=null},0)):i=i+`
`+e}function _(e){let t=r.hashIds?N(e).toString(36):I();return`${r.prefix}_${t}`}function h(e,t){if(r.mode==="auto")S&&!r.debug?y(e):f(e,t);else if(r.mode==="style")f(e,t);else if(r.mode==="sheet")!S||r.debug?f(e,t):y(e);else throw new Error(`Invalid mode: ${r.mode}`);r.verbose&&console.trace({styles:e})}function f(e,t){let n=t();n.setAttribute("type","text/css"),n.innerHTML=e,r.target.appendChild(n)}function y(e){let t=new CSSStyleSheet;t.replace(e),document.adoptedStyleSheets=[...document.adoptedStyleSheets,t]}function w(e){let t=0,n=0;for(let s=0;s<e.length;s++)e[s]==="{"?t++:e[s]==="}"&&n++;if(t!==n)throw new Error("Invalid CSS: Bracket mismatch.")}import{createElement as F}from"preact";function k(e,t){let n="";if(!t){if(typeof e!="string")throw new Error("No styles provided");t=e,e="div"}if(typeof e=="string"&&e.includes(".")){let o=e.split(".");e=o.shift(),n=o.join(" ")}function s(o){let{className:l,children:a,cssFlags:m,...C}=o,T=`${t} ${l||""} ${n} ${m?u(m):""}`.trim();return F(e,{...C,className:T},a)}return s.classNames=d(t),s}function H(e="div"){return{css(t,...n){let s=Array.from(t);return s.length&&!s[0].trim().startsWith("&&")&&(s[0]=`&& { ${s[0]}`,s[s.length-1]=`${s[s.length-1]} }`),k(e,g(s,...n))}}}export{S as SUPPORTS_CONSTRUCTABLE_STYLESHEETS,d as classBuilder,u as classNames,H as comp,k as component,b as configure,N as crcHash,E as css,g as cssRules,I as uid};
